{"version":3,"file":"map.js","sourceRoot":"","sources":["../map.js"],"names":[],"mappings":"AAAA;;GAEG;AAEH,uEAAuE;AAEvE,SAAS,QAAQ;IACf,MAAM,KAAK,GAAG,qCAAqC,CAAC;IAEpD,QAAQ,CAAC,WAAW;QAClB,gGAAgG,CAAC;IAEnG,MAAM,GAAG,GAAG,IAAI,QAAQ,CAAC,GAAG,CAAC;QAC3B,SAAS,EAAE,KAAK;QAChB,MAAM,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC;QACjB,IAAI,EAAE,CAAC;QACP,KAAK,EAAE,KAAK;QACZ,kBAAkB,EAAE,KAAK;KAC1B,CAAC,CAAC;IAEH,GAAG,CAAC,MAAM,EAAE,CAAC;IAEb,GAAG,CAAC,EAAE,CAAC,MAAM,EAAE,GAAG,EAAE;QAClB,GAAG,CAAC,MAAM,EAAE,CAAC;QAEb,4BAA4B;QAC5B,GAAG,CAAC,MAAM,CAAC;YACT,KAAK,EAAE,oBAAoB,EAAE,8BAA8B;YAC3D,YAAY,EAAE,oBAAoB,EAAE,8BAA8B;YAClE,eAAe,EAAE,GAAG,EAAE,wCAAwC;SAC/D,CAAC,CAAC;QAEH,GAAG,CAAC,SAAS,CAAC,YAAY,EAAE;YAC1B,IAAI,EAAE,YAAY;YAClB,GAAG,EAAE,6BAA6B;SACnC,CAAC,CAAC;QAEH,GAAG,CAAC,UAAU,CAAC;YACb,MAAM,EAAE,YAAY;YACpB,YAAY,EAAE,GAAG;SAClB,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,OAAO,GAAG,CAAC;AACb,CAAC;AAED,wEAAwE;AACxE,SAAS,aAAa,CAAC,GAAG,EAAE,QAAQ;IAClC,2DAA2D;IAC3D,+DAA+D;IAC/D,KAAK;IACL,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;SACrC,SAAS,CAAC,CAAC,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC;SAClD,OAAO,CAAC,OAAO,QAAQ,CAAC,QAAQ,WAAW,QAAQ,CAAC,KAAK,MAAM,CAAC;SAChE,KAAK,CAAC,GAAG,CAAC,CAAC;IACd,oCAAoC;IACpC,4CAA4C;IAC5C,gCAAgC;IAChC,yCAAyC;IACzC,oBAAoB;IACpB,0BAA0B;IAC1B,wDAAwD;IACxD,oDAAoD;IACpD,iBAAiB;AACnB,CAAC;AAED,SAAS,KAAK,CAAC,GAAG,EAAE,IAAI;IACtB,MAAM,GAAG,GAAG;QACV,MAAM,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC;QACvC,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,GAAG;QACZ,KAAK,EAAE,GAAG;KACX,CAAC;IAEF,GAAG,CAAC,KAAK,CAAC;QACR,GAAG,GAAG,EAAE,6BAA6B;QACrC,QAAQ,EAAE,GAAG,EAAE,0BAA0B;QACzC,SAAS,EAAE,IAAI,EAAE,8CAA8C;QAC/D,mCAAmC;KACpC,CAAC,CAAC;IAEH,2CAA2C;IAC3C,cAAc;IACd,6CAA6C;IAC7C,sGAAsG;IACtG,MAAM;AACR,CAAC;AAED,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,KAAK,EAAE,CAAC","sourcesContent":["/**\n * Mapbox Map Script\n */\n\n// TOOD: should this not be exposed globally? Makes it easier to debug.\n\nfunction setUpMap() {\n  const style = \"mapbox://styles/mapbox/outdoors-v12\";\n\n  mapboxgl.accessToken =\n    \"pk.eyJ1IjoiamFuZXNzYXRyYW4iLCJhIjoiY2xvYTVycjF4MGcxNTJrbW40b2N2c2xhdyJ9.QJVQiLIxywTBeSQoUHdwlg\";\n\n  const map = new mapboxgl.Map({\n    container: \"map\",\n    center: [-98, 40],\n    zoom: 2,\n    style: style,\n    attributionControl: false,\n  });\n\n  map.resize();\n\n  map.on(\"load\", () => {\n    map.resize();\n\n    // Custom atmosphere styling\n    map.setFog({\n      color: \"rgb(242, 208, 208)\", // Pink fog / lower atmosphere\n      \"high-color\": \"rgb(186, 221, 222)\", // Blue sky / upper atmosphere\n      \"horizon-blend\": 0.4, // Exaggerate atmosphere (default is .1)\n    });\n\n    map.addSource(\"mapbox-dem\", {\n      type: \"raster-dem\",\n      url: \"mapbox://mapbox.terrain-rgb\",\n    });\n\n    map.setTerrain({\n      source: \"mapbox-dem\",\n      exaggeration: 1.5,\n    });\n  });\n\n  return map;\n}\n\n// TODO: This doesn't add the marker to the correct place at the moment.\nfunction addPopupToMap(map, parkData) {\n  // const popup = new mapboxgl.Popup({ offset: 1 }).setText(\n  //   parkData.fullName + parkData.latitude + parkData.longitude\n  // );\n  new mapboxgl.Popup({ offset: [0, -15] })\n    .setLngLat([parkData.longitude, parkData.latitude])\n    .setHTML(`<h3>${parkData.fullName}</h3><p>${parkData.state}</p>`)\n    .addTo(map);\n  // create DOM element for the marker\n  // const el = document.createElement(\"div\");\n  // el.className = \"park-marker\";\n  // el.id = parkData.parkCode + \"-marker\";\n  // create the marker\n  // new mapboxgl.Marker(el)\n  //   .setLngLat([parkData.longitude, parkData.latitude])\n  //   .setPopup(popup) // sets a popup on this marker\n  //   .addTo(map);\n}\n\nfunction flyTo(map, park) {\n  const end = {\n    center: [park.longitude, park.latitude],\n    zoom: 12.5,\n    bearing: 130,\n    pitch: 100,\n  };\n\n  map.flyTo({\n    ...end, // Fly to the selected target\n    duration: 500, // Animate over 12 seconds\n    essential: true, // This animation is considered essential with\n    //respect to prefers-reduced-motion\n  });\n\n  // TODO: is flying with the pitch annoying?\n  // map.flyTo({\n  //   center: [park.longitude, park.latitude],\n  //   essential: true, // this animation is considered essential with respect to prefers-reduced-motion\n  // });\n}\n\nexport { setUpMap, addPopupToMap, flyTo };\n"]}