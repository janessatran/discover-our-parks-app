{"version":3,"file":"photo-carousel.js","sourceRoot":"","sources":["../../../../src/components/photo-carousel/photo-carousel.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, html, PropertyValues } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\nimport { styles } from \"./photo-carousel.css\";\n\n@customElement(\"photo-carousel\")\nexport class PhotoCarousel extends LitElement {\n  static styles = styles;\n\n  private selectedInternal = 0;\n\n  private left = 0;\n\n  private previous = 0;\n\n  @property({ type: Number })\n  selected = 0;\n\n  @property()\n  name = \"\";\n\n  metadata = \"\";\n\n  connectedCallback() {\n    super.connectedCallback();\n  }\n\n  get maxSelected() {\n    console.log(this.childElementCount);\n    return this.childElementCount - 1;\n  }\n\n  hasValidSelected() {\n    return this.selected >= 0 && this.selected <= this.maxSelected;\n  }\n\n  protected updated(changedProperties: PropertyValues) {\n    if (changedProperties.has(\"selected\") && this.hasValidSelected()) {\n      this.updateSlots();\n      this.previous = this.selected;\n    }\n  }\n\n  private updateSlots() {\n    this.children[this.previous]?.removeAttribute(\"slot\");\n    this.children[this.selected]?.setAttribute(\"slot\", \"selected\");\n  }\n\n  private handleForwardClick(e: MouseEvent) {\n    const i = this.selected + (Number(!e.shiftKey) || 1);\n    this.selected = i > this.maxSelected ? 0 : i < 0 ? this.maxSelected : i;\n    this.dispatchChange(this.selected);\n  }\n\n  private handleBackClick(e: MouseEvent) {\n    const i = this.selected + (Number(!e.shiftKey) || -1);\n    this.selected = i > this.maxSelected ? 0 : i < 0 ? this.maxSelected : i;\n    this.dispatchChange(this.selected);\n  }\n\n  private dispatchChange(selected: number) {\n    const change = new CustomEvent(\"change\", {\n      detail: selected,\n      bubbles: true,\n      composed: true,\n    });\n\n    this.dispatchEvent(change);\n    this.updateData(selected);\n  }\n\n  private updateData(selected: number) {\n    const name = this.children[selected].getAttribute(\"id\");\n    if (name) {\n      this.name = name;\n    }\n    const code = this.children[selected].getAttribute(\"park-code\");\n    if (code) {\n      this.metadata = code;\n    }\n\n    window.dispatchEvent(\n      new CustomEvent(\"changed-photo-event\", {\n        detail: {\n          name: this.name,\n          metadata: this.metadata,\n        },\n      })\n    );\n  }\n\n  render() {\n    if (this.hasValidSelected()) {\n      this.selectedInternal = this.selected;\n    }\n\n    const countText =\n      this.maxSelected > 0 ? `${this.selected} OF ${this.maxSelected}` : \"...\";\n\n    return html`\n      <div class=\"fit\">\n        <div class=\"photo-container\">\n          <slot name=\"selected\"></slot>\n        </div>\n        <div class=\"menu-container\">\n          <slot name=\"count\">${countText}</slot>\n          <slot name=\"name\">${this.name}</slot>\n          <div class=\"buttons\">\n            <!-- <div class=\"back-arrow\" @click=${this.handleBackClick}>\n              <span>&#10229;</span>\n            </div> -->\n            <div class=\"forward-arrow\" @click=${this.handleForwardClick}>\n              <span>&#10230;</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n}\n"]}